(()=>{var e={};e.id=888,e.ids=[888],e.modules={521:e=>{e.exports={btn:"Btn_btn__UluG4",small:"Btn_small__vimN2",large:"Btn_large__whQIA",enabled:"Btn_enabled__Lkrsv",disabled:"Btn_disabled__z61Er"}},694:e=>{e.exports={container:"Loading_container___DOvK",loader:"Loading_loader__HzEwm",load:"Loading_load__IRDx6"}},1809:e=>{e.exports={container:"Modal_container__g3A1V",background:"Modal_background__0PmG0",card:"Modal_card__4D_50",header:"Modal_header__avVz_",body:"Modal_body__ZA69T",footer:"Modal_footer__cekJG",warning:"Modal_warning__Qr0uL",footerText:"Modal_footerText__aeXJ9"}},87:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var a=s(8242);let r=({baseURL:e,fetch:t})=>{let s=(void 0===e?"":e).replace(/\/$/,""),r="/deepl",n="/health",o="/openai",i="/private",l="/private/me",d="/private/tasks",c="/private/tasks/di",u="/session",p="POST",h="DELETE",x="PATCH";return{deepl:{get:e=>t(s,r,"GET",e).json(),$get:e=>t(s,r,"GET",e).json().then(e=>e.body),$path:e=>`${s}${r}${e&&e.query?`?${(0,a.dataToURLString)(e.query)}`:""}`},health:{get:e=>t(s,n,"GET",e).json(),$get:e=>t(s,n,"GET",e).json().then(e=>e.body),$path:()=>`${s}${n}`},openai:{post:e=>t(s,o,p,e).json(),$post:e=>t(s,o,p,e).json().then(e=>e.body),$path:()=>`${s}${o}`},private:{me:{get:e=>t(s,l,"GET",e).json(),$get:e=>t(s,l,"GET",e).json().then(e=>e.body),$path:()=>`${s}${l}`},tasks:{_taskId:e=>{let a=`${d}/${e}`;return{patch:e=>t(s,a,x,e).json(),$patch:e=>t(s,a,x,e).json().then(e=>e.body),delete:e=>t(s,a,h,e).json(),$delete:e=>t(s,a,h,e).json().then(e=>e.body),$path:()=>`${s}${a}`}},di:{get:e=>t(s,c,"GET",e).json(),$get:e=>t(s,c,"GET",e).json().then(e=>e.body),$path:()=>`${s}${c}`},get:e=>t(s,d,"GET",e).json(),$get:e=>t(s,d,"GET",e).json().then(e=>e.body),post:e=>t(s,d,p,e,"FormData").json(),$post:e=>t(s,d,p,e,"FormData").json().then(e=>e.body),patch:e=>t(s,d,x,e).json(),$patch:e=>t(s,d,x,e).json().then(e=>e.body),delete:e=>t(s,d,h,e).json(),$delete:e=>t(s,d,h,e).json().then(e=>e.body),$path:e=>`${s}${d}${e&&e.query?`?${(0,a.dataToURLString)(e.query)}`:""}`},get:e=>t(s,i,"GET",e).text(),$get:e=>t(s,i,"GET",e).text().then(e=>e.body),$path:()=>`${s}${i}`},session:{post:e=>t(s,u,p,e).json(),$post:e=>t(s,u,p,e).json().then(e=>e.body),delete:e=>t(s,u,h,e).json(),$delete:e=>t(s,u,h,e).json().then(e=>e.body),$path:()=>`${s}${u}`},get:e=>t(s,"","GET",e).text(),$get:e=>t(s,"","GET",e).text().then(e=>e.body),$path:()=>`${s}`}}},2207:(e,t,s)=>{"use strict";s.d(t,{iC:()=>a});let a="DOMITORY";["user","task"].reduce((e,t)=>({...e,[t]:t}),{})},2572:(e,t,s)=>{"use strict";s.d(t,{h:()=>o});var a=s(6689),r=s(6405),n=s.n(r);let o=({children:e})=>{let[t,s]=(0,a.useState)();return(0,a.useEffect)(()=>{let e=document.createElement("div");return document.body.appendChild(e),s(e),()=>{document.body.removeChild(e)}},[]),t?n().createPortal(e,t):null}},4692:(e,t,s)=>{"use strict";s.d(t,{L:()=>o});var a=s(997);let r=({axis:e,size:t})=>"x"===e?1:t,n=({axis:e,size:t})=>"y"===e?1:t,o=e=>a.jsx("span",{style:{display:`${"x"===e.axis?"inline-":""}block`,width:`${n(e)}px`,minWidth:`${n(e)}px`,height:`${r(e)}px`,minHeight:`${r(e)}px`}})},7796:(e,t,s)=>{"use strict";s.d(t,{g:()=>i});var a=s(997),r=s(2572),n=s(694),o=s.n(n);let i=e=>e.visible?a.jsx(r.h,{children:a.jsx("div",{className:o().container,children:a.jsx("div",{className:o().loader})})}):null},4794:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.d(t,{r:()=>c});var r=s(997),n=s(2451),o=s(6689),i=s(7796),l=e([n]);n=(l.then?(await l)():l)[0];let d=(0,n.atom)(0),c=()=>{let[e,t]=(0,n.useAtom)(d),s=(0,o.useCallback)(e=>t(t=>t+(e?1:-1)),[t]);return{loadingElm:r.jsx(i.g,{visible:e>0}),setLoading:s}};a()}catch(e){a(e)}})},2684:(e,t,s)=>{"use strict";s.d(t,{u_:()=>h,fe:()=>u,mz:()=>p});var a=s(997),r=s(2572),n=s(4692),o=s(521),i=s.n(o);let l=e=>a.jsx("button",{disabled:e.disabled,className:[i().btn,"small"===e.size?i().small:i().large,e.disabled?i().disabled:i().enabled].join(" "),onClick:e.onClick,children:e.text});s(6689);var d=s(1809),c=s.n(d);let u=e=>a.jsx("div",{className:c().body,children:e.children}),p=e=>(0,a.jsxs)("div",{className:c().footer,children:[void 0!==e.okText&&!0===e.disabledOk&&void 0!==e.disabledText&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:c().warning,children:e.disabledText}),a.jsx(n.L,{axis:"y",size:12})]}),void 0!==e.headerText&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:c().footerText,children:e.headerText}),a.jsx(n.L,{axis:"y",size:12})]}),e.cancel&&a.jsx(l,{size:"small",text:e.cancelText??"Cancel",onClick:e.cancel}),void 0!==e.okText&&(0,a.jsxs)(a.Fragment,{children:[a.jsx(n.L,{axis:"x",size:16}),a.jsx(l,{size:"small",text:e.okText,disabled:e.disabledOk,onClick:e.ok})]})]}),h=e=>a.jsx(r.h,{children:e.open&&(0,a.jsxs)("div",{className:c().container,children:[a.jsx("div",{className:c().background,onClick:e.onClose}),a.jsx("div",{className:c().card,children:e.children})]})})},3212:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.d(t,{Y:()=>m});var r=s(997),n=s(9779),o=s(7856),i=s(9648),l=s(4794),d=s(2361),c=s(3403),u=s(6689),p=s(2885),h=s(6411),x=e([n,o,i,l,d,c,p]);[n,o,i,l,d,c,p]=x.then?(await x)():x;let m=()=>{let{user:e,setUser:t}=(0,c.a)(),{setLoading:s}=(0,l.r)(),{setAlert:a}=(0,d.V)(),x=(0,u.useCallback)(async()=>{let e=await (0,n.fetchAuthSession)().then(e=>e.tokens?.idToken?.toString());void 0!==e?(await p.x.session.$post({body:{jwt:e}}).catch(h.q),await p.x.private.me.$get().catch(h.q).then(t)):t(null)},[t]);return(0,u.useEffect)(()=>{(0,n.getCurrentUser)().then(x).catch(()=>t(null))},[t,x]),(0,u.useEffect)(()=>{let t=p.n.interceptors.response.use(void 0,async t=>{if(e.data&&(0,i.isAxiosError)(t)&&t.response?.status===401&&t.config){let{config:e}=t;return x().then(()=>p.n.request(e)).catch(()=>Promise.reject(t))}return Promise.reject(t)});return()=>p.n.interceptors.response.eject(t)},[e.data,x,a]),(0,u.useEffect)(()=>o.Hub.listen("auth",async e=>{switch(e.payload.event){case"customOAuthState":case"signInWithRedirect":case"signInWithRedirect_failure":case"tokenRefresh":break;case"signedOut":await p.x.session.$delete().catch(h.q),t(null);break;case"signedIn":await x().catch(h.q);break;case"tokenRefresh_failure":await (0,n.signOut)();break;default:throw Error(e.payload)}}),[a,x,s,t]),r.jsx(r.Fragment,{})};a()}catch(e){a(e)}})},2361:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.d(t,{V:()=>c});var r=s(997),n=s(2684),o=s(2451),i=s(6689),l=e([o]);o=(l.then?(await l)():l)[0];let d=(0,o.atom)({text:null,resolve:null}),c=()=>{let[e,t]=(0,o.useAtom)(d),s=(0,i.useCallback)(e=>(t(t=>({...t,text:e})),new Promise(e=>t(t=>({...t,resolve:e})))),[t]),a=(0,i.useCallback)(()=>{t(e=>({...e,text:null})),e.resolve?.()},[e,t]);return{alertElm:null!==e.text&&(0,r.jsxs)(n.u_,{open:!0,onClose:a,children:[r.jsx(n.fe,{children:r.jsx("div",{style:{whiteSpace:"pre-wrap"},children:e.text})}),r.jsx(n.mz,{okText:"OK",ok:a})]}),setAlert:s}};a()}catch(e){a(e)}})},3403:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.d(t,{a:()=>l});var r=s(2451),n=s(6689),o=e([r]);r=(o.then?(await o)():o)[0];let i=(0,r.atom)({inited:!1,data:null}),l=()=>{let[e,t]=(0,r.useAtom)(i);return{user:e,setUser:(0,n.useCallback)(e=>t({inited:!0,data:e}),[t])}};a()}catch(e){a(e)}})},8864:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var s in t)Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}(t,{default:function(){return l},noSSR:function(){return i}});let a=s(167),r=s(997);s(6689);let n=a._(s(4830));function o(e){return{default:(null==e?void 0:e.default)||e}}function i(e,t){delete t.webpack,delete t.modules;let s=t.loading;return()=>(0,r.jsx)(s,{error:null,isLoading:!0,pastDelay:!1,timedOut:!1})}function l(e,t){let s=n.default,a={loading:e=>{let{error:t,isLoading:s,pastDelay:a}=e;return null}};e instanceof Promise?a.loader=()=>e:"function"==typeof e?a.loader=e:"object"==typeof e&&(a={...a,...e});let r=(a={...a,...t}).loader;return(a.loadableGenerated&&(a={...a,...a.loadableGenerated},delete a.loadableGenerated),"boolean"!=typeof a.ssr||a.ssr)?s({...a,loader:()=>null!=r?r().then(o):Promise.resolve(o(()=>null))}):(delete a.webpack,delete a.modules,i(s,a))}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},2002:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.r(t),s.d(t,{default:()=>b});var r=s(997),n=s(8350);s(4144);var o=s(5838),i=s(7856),l=s(2207),d=s(3212),c=s(5152),u=s.n(c),p=s(968),h=s.n(p);s(6689),s(6764);var x=s(5206),m=e([n,o,i,d,x]);[n,o,i,d,x]=m.then?(await m)():m;let b=function({Component:e,pageProps:t}){let a=u()(()=>s.e(662).then(s.bind(s,3662)),{loadableGenerated:{modules:["pages/_app.page.tsx -> ../components/SafeHydrate"]},ssr:!1});return(0,r.jsxs)(r.Fragment,{children:[r.jsx(h(),{children:r.jsx("title",{children:l.iC})}),r.jsx(a,{children:(0,r.jsxs)(n.Authenticator.Provider,{children:[r.jsx(d.Y,{}),r.jsx(e,{...t})]})})]})};a()}catch(e){a(e)}})},2885:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.d(t,{n:()=>c,x:()=>u});var r=s(8381),n=s.n(r),o=s(87),i=s(9648),l=s(5206),d=e([i,l]);[i,l]=d.then?(await d)():d;let c=i.default.create({withCredentials:!0}),u=(0,o.Z)(n()(c,{baseURL:l.bo}));a()}catch(e){a(e)}})},6411:(e,t,s)=>{"use strict";s.d(t,{q:()=>a});let a=e=>(alert(e.message),null)},5206:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.d(t,{bo:()=>o});var r=s(9926),n=e([r]);let o=(r=(n.then?(await n)():n)[0]).z.string().parse("/api");r.z.string().parse("ap-northeast-1_frourio"),r.z.string().parse("catapult"),r.z.string().parse("http://localhost:5050"),a()}catch(e){a(e)}})},4144:()=>{},6764:()=>{},7093:(e,t,s)=>{"use strict";e.exports=s(2785)},4830:(e,t,s)=>{"use strict";e.exports=s(7093).vendored.contexts.Loadable},5152:(e,t,s)=>{e.exports=s(8864)},8381:e=>{"use strict";e.exports=require("@aspida/axios")},8242:e=>{"use strict";e.exports=require("aspida")},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},968:e=>{"use strict";e.exports=require("next/head")},6689:e=>{"use strict";e.exports=require("react")},6405:e=>{"use strict";e.exports=require("react-dom")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},8350:e=>{"use strict";e.exports=import("@aws-amplify/ui-react")},5838:e=>{"use strict";e.exports=import("aws-amplify")},9779:e=>{"use strict";e.exports=import("aws-amplify/auth")},7856:e=>{"use strict";e.exports=import("aws-amplify/utils")},9648:e=>{"use strict";e.exports=import("axios")},2451:e=>{"use strict";e.exports=import("jotai")},9926:e=>{"use strict";e.exports=import("zod")},167:(e,t)=>{"use strict";t._=t._interop_require_default=function(e){return e&&e.__esModule?e:{default:e}}}};var t=require("../webpack-runtime.js");t.C(e);var s=t(t.s=2002);module.exports=s})();